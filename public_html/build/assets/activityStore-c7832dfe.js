import{N as A,d as s,k as a,M as r}from"./app-b324b9d6.js";const w=A("activity",()=>{const o=s([]),n=s([]),c=a(()=>"/storage/img/"+n.value.image),u=a(()=>new Date(n.value.start_time).getHours()),d=a(()=>new Date(n.value.start_time).getMinutes()),l=a(()=>o.value.slice().sort((t,e)=>t.distance-e.distance)),m=a(()=>o.value.slice().sort((t,e)=>new Date(t.start_time)-new Date(e.start_time)));function v(t,e){r.get("/activities",{params:{latitude:t.latitude,longitude:t.longitude,range:e}}).then(i=>{console.log(i.data),o.value=i.data}).catch(i=>{})}function g(t,e){r.get("/distance",{params:{latitudeUser:t.latitude,longitudeUser:t.longitude,latitudeActivity:e.latitude,longitudeActivity:e.longitude}}).then(i=>e.distance=i.data)}function f(t){return"/storage/users/"+t.profile_photo_path}function h(t){return new Date(t.start_time).toLocaleString("fr-FR",{month:"long",day:"numeric"})}function y(t){o.value=t}function p(t){t.value=t}function D(t){r.post(`/add/${t.id}/favoris`,{activity:t}).then(e=>{t.bookmarked=!0}).catch(e=>{console.error(e)})}function k(t){r.delete(`/destroy/${t.id}/favoris`,{activity:t}).then(e=>{t.bookmarked=!1,console.log(e)}).catch(e=>{console.error(e)})}return{activity:n,activities:o,imgPath:c,hour:u,minutes:d,setDistance:g,getActivitiesSortedByDate:m,getActivitiesSortedByDistance:l,fetchActivities:v,photo_participant:f,dateTime:h,loadActivity:p,loadActivities:y,addToBookmarks:D,deleteBookmark:k}});export{w as u};
