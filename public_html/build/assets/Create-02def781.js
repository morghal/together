import{v as _,x,e as d,b as s,u as e,a as l,w as c,i as k,t as m,f as b,F as f,h as V,l as A,y as C,g as j,o as u,G as U,j as p}from"./app-b324b9d6.js";import{_ as M}from"./FooterNav-4db9fbf3.js";import{_ as n,a}from"./TextInput-5999e3a8.js";import{_ as i}from"./InputLabel-afe6c026.js";const q={class:"w-full bg-slate-50"},P={class:""},$={class:"mb-12 items-center relative w-full px-4 py-4 bg-crystal flex text-slate-50"},B=l("svg",{fill:"none",class:"opacity-100 h-6 w-6",stroke:"currentColor","stroke-width":"1.5",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M10.5 19.5L3 12m0 0l7.5-7.5M3 12h18"})],-1),D=l("svg",{fill:"none",stroke:"currentColor",class:"w-4 h-4","stroke-width":"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 4.5v15m7.5-7.5h-15"})],-1),N={class:"px-6"},T=["action","onSubmit"],z={class:"font-semibold mb-10 text-jellybeanblue"},S={class:"px-2 mb-12 relative"},L={for:"image"},F=l("div",{class:"p-2 rounded-full bg-slate-900 absolute right-6 top-4"},[l("svg",{fill:"none",class:"w-4 h-4 text-slate-50",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.827 6.175A2.31 2.31 0 015.186 7.23c-.38.054-.757.112-1.134.175C2.999 7.58 2.25 8.507 2.25 9.574V18a2.25 2.25 0 002.25 2.25h15A2.25 2.25 0 0021.75 18V9.574c0-1.067-.75-1.994-1.802-2.169a47.865 47.865 0 00-1.134-.175 2.31 2.31 0 01-1.64-1.055l-.822-1.316a2.192 2.192 0 00-1.736-1.039 48.774 48.774 0 00-5.232 0 2.192 2.192 0 00-1.736 1.039l-.821 1.316z"}),l("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.5 12.75a4.5 4.5 0 11-9 0 4.5 4.5 0 019 0zM18.75 10.5h.008v.008h-.008V10.5z"})])],-1),H=["src"],E={key:0},G={class:"flex flex-wrap mb-6"},O=l("legend",{class:"text-slate-900 font-bold mb-4 text-sm"},[l("svg",{fill:"none",stroke:"currentColor",class:"inline h-6 w-6 mr-3","stroke-width":"1.5",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9.568 3H5.25A2.25 2.25 0 003 5.25v4.318c0 .597.237 1.17.659 1.591l9.581 9.581c.699.699 1.78.872 2.607.33a18.095 18.095 0 005.223-5.223c.542-.827.369-1.908-.33-2.607L11.16 3.66A2.25 2.25 0 009.568 3z"}),l("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 6h.008v.008H6V6z"})]),j("Categories ")],-1),Z={class:"mb-5"},I=["onClick","value","id"],J=["for"],K={key:0},Q={class:"mb-6"},R={class:"mb-6 flex"},W=l("button",{class:"text-center mr-3 rounded-lg bg-jellybeanblue font-medium text-slate-50 py-2 px-4",type:"submit"}," Enregistrer ",-1),X=l("button",{class:"text-center rounded-lg bg-transparent border-jellybeanblue border-2 border-solid font-medium text-jellybeanblue py-2 px-4",type:"button"}," Annuler ",-1),oe={__name:"Create",props:{categories:Array},setup(v){const h={year:"numeric",month:"2-digit",day:"2-digit",timeZone:"UTC"},t=_({_method:"POST",title:null,category:null,dateActivite:null,heureActivite:null,duration:null,nbrParticipants:null,address:null,postcode:null,city:null,country:null,description:null,image:null}),w=()=>{t.post(`/store/${t.name}`)},y=x(()=>new Date().toLocaleString(void 0,h).slice(0,10).split("/").reverse().join("-"));return(g,r)=>(u(),d(f,null,[s(e(U),{title:"Nouvelle Activité"}),l("div",q,[l("header",P,[l("nav",$,[l("ul",null,[l("li",null,[s(e(p),{as:"button",href:"/dashboard"},{default:c(()=>[B]),_:1})]),l("li",null,[s(e(p),{as:"button",href:"/dashboard",class:"rotate-45 absolute right-4 top-3 p-2 rounded-full bg-slate-50 text-center text-slate-800"},{default:c(()=>[D]),_:1})])])])]),l("main",N,[l("form",{action:`/store/${e(t).name}`,onSubmit:k(w,["prevent"]),method:"post",enctype:"multipart/form-data"},[l("div",z,m(g.$page.props.errors.address),1),l("div",S,[l("label",L,[F,l("img",{class:"shadow-lg shadow-pewter-blue",src:g.imgPath,alt:""},null,8,H)]),l("input",{onChange:r[0]||(r[0]=o=>e(t).image=o.target.files[0]),type:"file",id:"image",name:"image",accept:"image/png, image/jpeg"},null,32),e(t).errors.image?(u(),d("div",E,m(e(t).errors.image),1)):b("",!0)]),s(i,{for:"titre",value:"Titre"}),s(n,{id:"titre",modelValue:e(t).title,"onUpdate:modelValue":r[1]||(r[1]=o=>e(t).title=o),type:"text",class:"mt-1 block w-full",required:""},null,8,["modelValue"]),s(a,{class:"mt-2",message:e(t).errors.title},null,8,["message"]),l("fieldset",G,[O,(u(!0),d(f,null,V(v.categories,o=>(u(),d("div",Z,[l("input",{onClick:Y=>e(t).category=o.id,value:o.id,type:"radio",name:"category",id:o.name,class:"hidden peer"},null,8,I),l("label",{for:o.name,class:"bg-crystal mr-2 text-slate-600 shadow-sm px-3 py-2 rounded-lg peer-checked:bg-jellybeanblue peer-checked:text-slate-50 shadow-pewter-blue"},m(o.name),9,J)]))),256)),e(t).errors.category?(u(),d("div",K,m(e(t).errors.category),1)):b("",!0)]),s(i,{for:"dateActivite",value:"Date de l'activité"}),s(n,{id:"dateActivite",modelValue:e(t).dateActivite,"onUpdate:modelValue":r[2]||(r[2]=o=>e(t).dateActivite=o),type:"date",class:"mt-1 block w-full",required:"",min:e(y)},null,8,["modelValue","min"]),s(a,{class:"mt-2",message:e(t).errors.dateActivite},null,8,["message"]),s(i,{for:"heureActivite",value:"Heure de l'activité"}),s(n,{id:"heureActivite",modelValue:e(t).heureActivite,"onUpdate:modelValue":r[3]||(r[3]=o=>e(t).heureActivite=o),type:"time",class:"mt-1 block w-full",required:""},null,8,["modelValue"]),s(a,{class:"mt-2",message:e(t).errors.heureActivite},null,8,["message"]),s(i,{for:"dureeActivite",value:"Durée de l'activité"}),s(n,{id:"dureeActivite",modelValue:e(t).duration,"onUpdate:modelValue":r[4]||(r[4]=o=>e(t).duration=o),type:"time",class:"mt-1 block w-full",min:"00:30",max:"12:00",required:""},null,8,["modelValue"]),s(a,{class:"mt-2",message:e(t).errors.duration},null,8,["message"]),s(i,{for:"nbrParticipants",value:"Nombre de participants"}),s(n,{id:"nbrParticipants",modelValue:e(t).nbrParticipants,"onUpdate:modelValue":r[5]||(r[5]=o=>e(t).nbrParticipants=o),type:"number",class:"mt-1 block w-full",min:"1",max:"25",required:""},null,8,["modelValue"]),s(a,{class:"mt-2",message:e(t).errors.nbrParticipants},null,8,["message"]),s(i,{for:"address",value:"Adresse"}),s(n,{id:"address",modelValue:e(t).address,"onUpdate:modelValue":r[6]||(r[6]=o=>e(t).address=o),type:"text",class:"mt-1 block w-full",required:""},null,8,["modelValue"]),s(a,{class:"mt-2",message:e(t).errors.address},null,8,["message"]),s(i,{for:"postcode",value:"Code postal"}),s(n,{id:"postcode",modelValue:e(t).postcode,"onUpdate:modelValue":r[7]||(r[7]=o=>e(t).postcode=o),type:"text",class:"mt-1 block w-full",pattern:"[0-9]{4}",required:""},null,8,["modelValue"]),s(a,{class:"mt-2",message:e(t).errors.postcode},null,8,["message"]),s(i,{for:"city",value:"Ville"}),s(n,{id:"city",modelValue:e(t).city,"onUpdate:modelValue":r[8]||(r[8]=o=>e(t).city=o),type:"text",class:"mt-1 block w-full",required:""},null,8,["modelValue"]),s(a,{class:"mt-2",message:e(t).errors.city},null,8,["message"]),s(i,{for:"country",value:"Pays"}),s(n,{id:"country",modelValue:e(t).country,"onUpdate:modelValue":r[9]||(r[9]=o=>e(t).country=o),type:"text",class:"mt-1 block w-full",required:""},null,8,["modelValue"]),s(a,{class:"mt-2",message:e(t).errors.country},null,8,["message"]),s(i,{for:"description",value:"Description"}),l("div",Q,[A(l("textarea",{"onUpdate:modelValue":r[10]||(r[10]=o=>e(t).description=o),maxlength:"250",class:"border-slate-300 focus:border-crystal focus:ring-crystal rounded-md text-slate-900 mb-4 text-sm shadow-sm h-52 pr-10 py-1 w-full",id:"description",name:"description"},`
                `,512),[[C,e(t).description]]),s(a,{class:"mt-2",message:e(t).errors.description},null,8,["message"])]),l("div",R,[W,s(e(p),{href:"/dashboard",as:"button"},{default:c(()=>[X]),_:1})])],40,T)]),l("footer",null,[s(M)])])],64))}};export{oe as default};
