import{k as C,s as B,e as n,b as h,u as i,a as t,w as M,i as u,f as j,t as s,g as v,F as m,h as f,o as c,G as z,j as S,n as V,M as y}from"./app-b324b9d6.js";import{_ as A}from"./FooterNav-4db9fbf3.js";import{u as L}from"./activityStore-c7832dfe.js";import{u as D}from"./locationStore-7c4be25d.js";const N={class:"bg-gradient-to-b from-moonstone to-[#539ABB]"},T={class:"relative"},$={class:"items-center absolute w-full px-4 py-4 bg-neutral-900/50 flex text-slate-50"},E=t("svg",{fill:"none",class:"opacity-100 h-6 w-6",stroke:"currentColor","stroke-width":"1.5",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M10.5 19.5L3 12m0 0l7.5-7.5M3 12h18"})],-1),O=t("svg",{fill:"none",class:"w-4 h-4",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.593 3.322c1.1.128 1.907 1.077 1.907 2.185V21L12 17.25 4.5 21V5.507c0-1.108.806-2.057 1.907-2.185a48.507 48.507 0 0111.186 0z"})],-1),P=[O],F=t("svg",{fill:"none",class:"w-4 h-4 text-gargoylegas",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M17.593 3.322c1.1.128 1.907 1.077 1.907 2.185V21L12 17.25 4.5 21V5.507c0-1.108.806-2.057 1.907-2.185a48.507 48.507 0 0111.186 0z"})],-1),G=[F],H=["src"],I={class:"absolute bottom-0 w-full px-4 py-4 bg-neutral-900/50 text-slate-50"},R={class:"text-lg text-slate-50 font-bold mb-1"},U={class:"bg-slate-50 text-sm px-2 py-1 font-medium text-caribbeangreen rounded-md w-fit flex items-center"},q=t("svg",{fill:"currentColor",class:"h-4 w-4 mr-1",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true"},[t("path",{"clip-rule":"evenodd","fill-rule":"evenodd",d:"M11.54 22.351l.07.04.028.016a.76.76 0 00.723 0l.028-.015.071-.041a16.975 16.975 0 001.144-.742 19.58 19.58 0 002.683-2.282c1.944-1.99 3.963-4.98 3.963-8.827a8.25 8.25 0 00-16.5 0c0 3.846 2.02 6.837 3.963 8.827a19.58 19.58 0 002.682 2.282 16.975 16.975 0 001.145.742zM12 13.5a3 3 0 100-6 3 3 0 000 6z"})],-1),J={class:""},K={class:"flex justify-between bg-jellybeanblue px-6 py-4"},Q={class:"text-base font-semibold text-slate-50"},W={class:"text-jellybeanblue font-semibold text-xs bg-slate-50 rounded-lg py-1 px-2"},X={class:"px-6"},Y={class:"py-10"},Z={class:"text-lg text-slate-50 font-bold mb-4"},tt={class:"text-xs text-slate-50 font-normal mb-4"},et={class:"text-sm text-slate-50 font-medium"},it={class:"flex mb-4 items-center text-caribbeangreen"},st=t("svg",{fill:"currentColor",class:"icone h-8 w-8 mr-4 inline text-caribbeangreen",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true"},[t("path",{"clip-rule":"evenodd","fill-rule":"evenodd",d:"M11.54 22.351l.07.04.028.016a.76.76 0 00.723 0l.028-.015.071-.041a16.975 16.975 0 001.144-.742 19.58 19.58 0 002.683-2.282c1.944-1.99 3.963-4.98 3.963-8.827a8.25 8.25 0 00-16.5 0c0 3.846 2.02 6.837 3.963 8.827a19.58 19.58 0 002.682 2.282 16.975 16.975 0 001.145.742zM12 13.5a3 3 0 100-6 3 3 0 000 6z"})],-1),at={class:"text-slate-50 not-italic text-xs font-medium"},ot=t("br",null,null,-1),lt=t("div",{class:"bg-slate-50 mb-10 rounded-xl text-lg font-medium flex items-center justify-center text-center w-full h-40"},[t("div",null,"MAP HERE")],-1),nt={class:"flex flex-col content-center"},ct=t("div",{class:"text-slate-50 text-xs font-medium"},"Organisé par",-1),rt=["src"],dt={class:"text-slate-50 font-semibold text-xs"},ut={class:"flex mb-10"},ht=t("path",{"clip-rule":"evenodd","fill-rule":"evenodd",d:"M10.788 3.21c.448-1.077 1.976-1.077 2.424 0l2.082 5.007 5.404.433c1.164.093 1.636 1.545.749 2.305l-4.117 3.527 1.257 5.273c.271 1.136-.964 2.033-1.96 1.425L12 18.354 7.373 21.18c-.996.608-2.231-.29-1.96-1.425l1.257-5.273-4.117-3.527c-.887-.76-.415-2.212.749-2.305l5.404-.433 2.082-5.006z"},null,-1),vt=[ht],mt={class:"text-slate-50 text-xs font-medium mb-2"},xt={class:"flex flex-wrap mb-6"},ft=["src"],yt=["onClick"],gt=["onClick"],kt={__name:"ShowActivity",props:{activity:Object,User:Object},setup(e){const a=e,o=L(),g=D();async function b(){const l=await g.coords();o.setDistance(l,a.activity)}const w=()=>{o.activity=a.activity},_=C(()=>"/storage/users/"+a.activity.user.profile_photo_path);B(()=>{w(),b()});const p=()=>{y.post("/participate",{activity:a.activity.id}).then(l=>{console.log(l.data),l.data!="nope"&&(a.activity.participants.push(l.data),a.activity.inscrit=!0)})},k=()=>{y.delete("/unparticipate",{data:{activity:a.activity.id}}).then(l=>{a.activity.participants.splice(a.activity.participants.findIndex(r=>r.id===l.data.id),1),a.activity.inscrit=!1})};return(l,r)=>(c(),n(m,null,[h(i(z),{title:`Détails activité ${e.activity.title}`},null,8,["title"]),t("article",N,[t("header",T,[t("nav",$,[t("ul",null,[t("li",null,[h(i(S),{href:"/dashboard"},{default:M(()=>[E]),_:1})]),t("li",null,[e.activity.bookmarked?(c(),n("button",{key:1,href:"",onClick:r[1]||(r[1]=u(d=>i(o).deleteBookmark(e.activity),["prevent"])),class:"bg-jellybeanblue absolute right-4 top-3 mr-1 rounded-full p-2 text-center"},G)):(c(),n("button",{key:0,onClick:r[0]||(r[0]=u(d=>i(o).addToBookmarks(e.activity),["prevent"])),href:"",class:"absolute right-4 top-3 mr-1 rounded-full p-2 bg-slate-50 text-center text-slate-800"},P))]),j("",!0)])]),t("img",{class:"h-max",height:"400",src:i(o).imgPath,alt:"Cover Photo"},null,8,H),t("div",I,[t("h1",R,s(e.activity.title),1),t("div",U,[q,v(s(e.activity.ville+", à "+e.activity.distance+" km"),1)])])]),t("main",J,[t("div",K,[t("div",Q,s(i(o).dateTime(e.activity)),1),t("div",W,s(e.activity.category_name),1)]),t("section",X,[t("article",null,[t("div",Y,[t("h1",Z,s(e.activity.title),1),t("div",tt,s(i(o).dateTime(e.activity)+", à "+i(o).hour+"h"+i(o).minutes),1),t("p",et,s(e.activity.description),1)]),t("div",it,[st,t("address",at,[v(s(e.activity.adresse)+" ",1),ot,v(s(e.activity.postcode+" "+e.activity.ville),1)])]),lt]),t("div",nt,[ct,t("img",{class:"rounded-full shadow-md shadow-slate-700/50 m-2 h-12 w-12",src:i(_),alt:""},null,8,rt)]),t("div",dt,s(e.activity.user.pseudo+" ("+e.activity.user.firstname+" "+e.activity.user.lastname+")"),1),t("div",ut,[(c(),n(m,null,f(5,(d,x)=>t("svg",{fill:"currentColor",key:x,class:V([x<e.activity.user.rating?"text-gargoylegas":"text-slate-50","inline align-text-top h-4 w-4"]),viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true"},vt,2)),64))]),t("div",mt,s(e.activity.participants.length+"/"+e.activity.max_participants+" participants"),1),t("div",xt,[(c(!0),n(m,null,f(e.activity.participants,d=>(c(),n("img",{class:"rounded-full shadow-md shadow-slate-700/50 m-2 h-12 w-12",src:i(o).photo_participant(d),alt:""},null,8,ft))),256))]),e.activity.inscrit?(c(),n("button",{key:1,onClick:u(k,["prevent"]),class:"bg-caribbeangreen w-1/3 rounded-full py-1 text-xs mb-6 font-medium text-slate-50"},"Se désinscrire",8,gt)):(c(),n("button",{key:0,onClick:u(p,["prevent"]),class:"bg-caribbeangreen w-1/3 rounded-full py-1 text-xs mb-6 font-medium text-slate-50"},"S'inscrire",8,yt))])]),t("footer",null,[h(A)])])],64))}};export{kt as default};
